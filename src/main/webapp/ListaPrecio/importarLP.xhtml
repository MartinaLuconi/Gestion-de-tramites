<!--<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:adm="http://github.com/adminfaces"
                template="#{layoutMB.template}">

    <ui:define name="metadata">
        <f:metadata>

        </f:metadata>
        <ui:param name="renderFormAsterisks" value="true"/>
    </ui:define>
    <ui:define name="title">
        Importar Lista de Precio
    </ui:define>
    <ui:define name="body">
         PARA INGRESO DE FECHAS 
        <script>
            PrimeFaces.locales['es'] = {
                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                weekHeader: 'Semana',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Sólo hora',
                timeText: 'Tiempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                millisecondText: 'Milisegundo',
                ampm: false,
                month: 'Mes',
                week: 'Semana',
                day: 'Día',
                allDayText: 'Todo el día',
                today: 'Hoy',
                now: 'Ahora',
                clear: 'Limpiar',
                aria: {
                    close: 'Cerrar',
                    previous: 'Anterior',
                    next: 'Siguiente',
                }
            };
        </script>

        <h:form id="form" prependId="false">

            <p:panel styleClass="box-primary card">
                
                <div class="ui-g ui-fluid">
                     <div class="ui-g-12 ui-md-6">
                            <h:outputText value="Codigo Lista:" styleClass="text-secondary"/>
                            <h:outputText value="125"/>
                     </div>
                     Ingresos de fechas 
    
                        <div class="ui-g-12 ui-md-6">
                        <p:outputPanel>
                            <p:spacer height="10"/>                            
                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="timeDesde" value="Fecha Desde" />
                                <p:datePicker id="timeDesde" value="#{uiImportatLP.fechaHoraDesdeListaPrecio}" showTime="true" />
                            </div>
                        </p:outputPanel> 
                        </div>
                        
                        <div class="ui-g-12 ui-md-6">
                        <p:outputPanel>
                            <p:spacer height="10"/>                            
                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="timeHasta" value="Fecha Hasta" />
                                <p:datePicker id="timeHasta" value="#{uiImportatLP.fechaHoraHastaListaPrecio}" showTime="true" />
                            </div>
                        </p:outputPanel> 
                        </div>
                   </div>     
                     
                    <div class="ui-sm-12 ui-g-6 ui-g-nopad"> 
                        <div class="card">
                            <h:form id="frmSingle">
                                <p:fileUpload id="upload" value="{fileUploadView.file}"
                                              mode="simple" skinSimple="true" auto="true"
                                              process="@this" update="messages"
                                              listener="{fileUploadView.handleFileUpload}" />
                            </h:form>
                        </div>
                    </div>

                    
                     EXCEL 
                    <div>
                        <p:fileUpload listener="#{uiExcelFile.handleFileUpload}" 
                                  dragDropSupport="false" auto="true" onstart="showBar()" oncomplete="hideBar()"
                                   mode="advanced"  multiple="false" update="messages" sizeLimit="100000000" 
                                  />
                    </div>
                                          
                    <p:spacer height="20"/>                      
                    <div>

                           <p:commandButton value="Download" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);"
                              icon="pi pi-arrow-down"  styleClass="btn-success">
                               <p:fileDownload value="#{uiExcelFile.file}"/> 
                          </p:commandButton>
                    </div>
                    
                    
                    
                     BOTONES 

                    <p:toolbar>
                        <p:toolbarGroup align="right">
                        <div class="box-header with-border" >
                            <div id="main-buttons">
                                <p:commandButton value="Guardar Cambio"  styleClass="rounded-button btn-primary"/>
                             </div>
                        </div>

                        <div class="box-header with-border" >
                            <div id="main-buttons" >
                                <p:commandButton value="Cancelar"  styleClass="rounded-button btn-primary" />
                             </div>
                        </div>
                        </p:toolbarGroup>
                     </p:toolbar>
                
            </p:panel>

        </h:form>

    </ui:define>
    
    <ui:define name="code">
        <p:tabView>
            <p:tab title="upload.xhtml">
           <pre>
               <code class="language-html">
                   <h:outputText value="#{sourceCodeMB.getPageSource()}" escape="true"/>
               </code>
           </pre>
            </p:tab>

            <p:tab title="FileuploadMB.java">
              <pre>
               <code class="language-java">
                   <h:outputText value="#{sourceCodeMB.getJavaSource('com.github.adminfaces.showcase.bean.FileuploadMB')}"
                                 escape="false"/>
               </code>
             </pre>
            </p:tab>
        </p:tabView>
    </ui:define>

</ui:composition >-->

<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" 
                template="#{layoutMB.template}">

    <ui:define name="metadata">
        <f:metadata>
        </f:metadata>
        <ui:param name="renderFormAsterisks" value="true"/>
    </ui:define>

    <ui:define name="title">
        Importar LP
    </ui:define>

    <ui:define name="body">
        <h:form id="form" prependId="false">
            <p:panel styleClass="box-primary card">
                <div class="ui-g ui-fluid">

                    <!-- Campo de entrada para el codigo LP -->
                    <div class="ui-g-12 ui-md-3">
                        <p:outputPanel>
                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="codigo" value="Código:" />
                                <p:inputText id="codigo" value="#{uiImportatLP.codListaPrecio}" readonly="true"/>
                                <p:message id="codigoMSG" for="codigo"/>
                            </div>
                        </p:outputPanel>
                    </div>

                    <!-- Campo de entrada para la fecha desde -->
                    <div class="ui-g-12 ui-md-3">
                        <p:outputPanel>
                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="timeDesde" value="Fecha Desde" />
                                <p:datePicker id="timeDesde" pattern="dd/MM/yyyy HH:mm:ss" value="#{uiImportatLP.fechaHoraDesdeListaPrecio}" showTime="true"/>
                            </div>
                        </p:outputPanel> 
                    </div>

                    <!-- Campo de entrada para la fecha hasta -->
                    <div class="ui-g-12 ui-md-3">
                        <p:outputPanel>                          
                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="timeHasta" value="Fecha Hasta" />
                                <p:datePicker id="timeHasta" pattern="dd/MM/yyyy HH:mm:ss" value="#{uiImportatLP.fechaHoraHastaListaPrecio}" showTime="true"/>
                            </div>
                        </p:outputPanel> 
                    </div>

                    <!-- Campo para arrastrar y soltar archivo Excel -->
                    <div>
                        <p:fileUpload id="fileUpload" mode="advanced" listener="#{uiImportatLP.handleFileUpload}" 
                                      dragDropSupport="true" auto="false" update="form:uploadStatus" 
                                      multiple="false" sizeLimit="100000000" fileLimit="1" 
                                      allowTypes="/(\.|\/)(xlsx|xls)$/" />
                    </div>

                    <!-- Mensaje de estado de subida de archivo -->
                    <p:outputLabel id="uploadStatus" value="#{uiImportatLP.uploadStatus}" />

                    <!-- Botón para confirmar la carga del archivo Excel -->
                    <div class="ui-sm-12 ui-g-6 ui-g-nopad">
                        <div class="ui-sm-12 ui-g-4">
                            <p:commandButton value="Importar" action="#{uiImportatLP.importar()}" icon="fa fa-check" 
                                             styleClass="btn-primary" update="@form" /> 
                        </div>
                    </div>

                    <!-- Botón para volver al menú principal -->
<!--                    <div class="ui-sm-12 ui-g-6 ui-g-nopad">
                        <div class="ui-sm-12 ui-g-4">
                            <p:commandButton value="Volver" action="#{uiImportatLP.irAMenuPrincipal()}" icon="fa fa-check" 
                                             styleClass="btn-primary" /> 
                        </div>
                    </div>-->
                </div>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>